"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toMutantRunResult = void 0;
const TestStatus_1 = require("./TestStatus");
const DryRunStatus_1 = require("./DryRunStatus");
const MutantRunResult_1 = require("./MutantRunResult");
function toMutantRunResult(dryRunResult) {
    switch (dryRunResult.status) {
        case DryRunStatus_1.DryRunStatus.Complete: {
            const killedBy = dryRunResult.tests.find((test) => test.status === TestStatus_1.TestStatus.Failed);
            const nrOfTests = dryRunResult.tests.filter((test) => test.status !== TestStatus_1.TestStatus.Skipped).length;
            if (killedBy) {
                return {
                    status: MutantRunResult_1.MutantRunStatus.Killed,
                    failureMessage: killedBy.failureMessage,
                    killedBy: killedBy.id,
                    nrOfTests,
                };
            }
            else {
                return {
                    status: MutantRunResult_1.MutantRunStatus.Survived,
                    nrOfTests,
                };
            }
        }
        case DryRunStatus_1.DryRunStatus.Error:
            return {
                status: MutantRunResult_1.MutantRunStatus.Error,
                errorMessage: dryRunResult.errorMessage,
            };
        case DryRunStatus_1.DryRunStatus.Timeout:
            return {
                status: MutantRunResult_1.MutantRunStatus.Timeout,
            };
    }
}
exports.toMutantRunResult = toMutantRunResult;
//# sourceMappingURL=runResultHelpers.js.map